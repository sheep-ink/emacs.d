* ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹æ“ä½œæ–¹æ³•

| Emacs Quit       | C-x C-c                 |
| æ–‡å­—ã‚µã‚¤ã‚ºã®å¤‰æ›´ | C-x C-+/C-x C--/C-x C-0 |

** ã‚«ãƒ¼ã‚½ãƒ«ã®ç§»å‹•
| ä¸Šã®è¡Œã¸      | C-p |                                      |
| ä¸‹ã®è¡Œã¸      | C-n |                                      |
| è¡Œé ­ã¸ç§»å‹•*   | C-a | crux-move-begining-of-lineã«å·®ã—æ›¿ãˆ |
| è¡Œæœ«ã¸ç§»å‹•    | C-e |                                      |
| å³ã«1æ–‡å­—ç§»å‹• | C-f |                                      |
| å·¦ã«1æ–‡å­—ç§»å‹• | C-b |                                      |
| å³ã«1å˜èªç§»å‹• | M-f |                                      |
| å·¦ã«1å˜èªç§»å‹• | M-b |                                      |

** è¡Œã®æ“ä½œ
| æ”¹è¡Œ                  | C-m, RET |                                       |
| ç©ºè¡Œã‚’è¿½åŠ             | C-o      | open-line                             |
| ç©ºè¡Œã‚’è¿½åŠ (è¡Œã®é€”ä¸­)* | M-o      | crux-smart-open-line                  |
| è¡Œè¤‡è£½*               | C-c d    | crux-duplicate-current-line-on-region |
| è¡Œã®å…¥ã‚Œæ›¿ãˆ          | C-x C-t  |                                       |

** å…¥åŠ›Â·å‰Šé™¤
| Nå›åˆ†Sã‚’å…¥åŠ›   | C-<N> S |
| ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ› | M-;     |
| 1å­—å‰Šé™¤        | C-d     |
| 1å­—BS          | C-j     |

* è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ¦‚è¦

** init.el
*** å…¨ä½“æ§‹é€ 
1. ã‚°ãƒ­ãƒ¼ãƒãƒ«(ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  > å¤‰æ•° > å¤–è¦³ > æ©Ÿèƒ½)
2. å„ãƒ¢ãƒ¼ãƒ‰
3. ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ (Emacså†…ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸)

#+begin_src emacs-lisp :tangle init.el :noweb yes
<<file-header>>

;;;; Global Settings ------------------------------------------
<<package-system>>

<<variable>>

;;; Appearance
<<theme>>
<<global-face>>

;;; Input & Editing
<<ddskk>>
<<text-editing>>
<<input-completion>>
<<history>>
<<mini-buffer>>

;;; UI & Base
<<ui-and-base>>
<<auto-revert>>

;;; Workspace
<<desktop>>
<<project>>
<<tab-bar>>

<<directory>>
<<bookmark>>

;;;; Mode Settings --------------------------------------------
<<org-face>>
<<org-mode>>
<<markdown-mode>>
<<emacs-lisp-mode>>

;;;; Subsystem Settings ---------------------------------------
<<magit>>
<<vterm>>
<<gptel>>

<<file-footer>>
#+end_src

*** è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®Header/Footer

**** Header
=early.init.el= ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©ã™ã‚‹
_!!_ HeaderãŠã‚ˆã³Footerã¯çœç•¥ã—ã¦ã‚‚å‹•ä½œä¸Šã®å•é¡Œã¯ãªã„

- ~Package --- ...~ : ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¦‚è¦ã‚’ç¤ºã™
- ~lexical-binding: t~ : Emacs24.1ä»¥é™ã§å°å…¥ã•ã‚ŒãŸé™çš„ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹
- ~Code~ : ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é–‹å§‹ä½ç½®ã‚’ç¤ºã™ãƒãƒ¼ã‚«ãƒ¼

#+begin_src emacs-lisp :noweb-ref file-header
;;; package --- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« -*- lexical-binding: t; -*-
;;; Commentary:
;;; Code:
#+end_src

**** Footer
- ~(provide 'early-init)~ : ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒ =early-init= ã¨ã„ã†æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚’å®£è¨€
- ~early-init.el ends here~ : ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ‚ç«¯ã‚’æ˜ç¤ºçš„ã«ç¤ºã™

#+begin_src emacs-lisp :noweb-ref file-footer
(provide 'init)
;;; init.el ends here
#+end_src

*** è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ ¼ç´å ´æ‰€ .emacs.d
Emacsã®è¨­å®šã«å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã¯ =~/.emacs.d/= ã«æ ¼ç´ã™ã‚‹ã®ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚ã‚‹

**** ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- auto-save-list: è‡ªå‹•ä¿å­˜ã®è¨˜éŒ²ç®¡ç†
- eln-cache: ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸ.elnãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- elpa: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¿ç®¡å ´æ‰€
- image-dired: image-dired-modeä½¿ç”¨æ™‚ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- transient: Transientãƒ‘ãƒƒã‚±ãƒ¼ã‚¸(Magitãªã©)ã®å±¥æ­´Â·è¨­å®šã®ä¿å­˜
- undo-fu-session: Undoå±¥æ­´ã®ãƒ‡ãƒ¼ã‚¿

**** ãƒ•ã‚¡ã‚¤ãƒ«
- abbrev_defs: Abbrevã§è¨­å®šã—ãŸç•¥èªå®šç¾©
- bookmarks: ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯
- history: Mini Bufferã®å…¥åŠ›å±¥æ­´
- kkcrc: DDSKKã®è¨­å®š
- places: save-place-modeã«ã‚ˆã‚‹ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã®ãƒ‡ãƒ¼ã‚¿
- projects: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®šç¾©
- tramp: TRAMP(ãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒãƒ¼ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã§ãã‚‹æ©Ÿèƒ½)ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥Â·æ¥ç¶šå±¥æ­´
- .emacs.desktop, .emacs.desktop.lock: desktop-save-modeã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ä¿å­˜ãƒ‡ãƒ¼ã‚¿

**** .gitignore
=*= ã§å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã— =!= ã§å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’è¿½åŠ ã™ã‚‹

_!!_ Org Modeã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã§ã¯,è¡Œé ­ã® =*= ã¯è‡ªå‹•ã¦ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã•ã‚Œ =,= ãŒä»˜ã.æŠ½å‡º(tangle)ã®éš›ã«ã¯é™¤å»ã•ã‚Œã‚‹

#+begin_src text :tangle .gitignore
,*

!.gitignore
!emacs.org
!README.org
!abbrev_defs

!.github/
!.github/**
#+end_src

** eartly-init.el
=init.el= ã‚ˆã‚Šå‰ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹.GUIã‚„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ã‚ˆã‚Šã‚‚å…ˆã«å®Ÿè¡Œã•ã‚Œã‚‹ãŸã‚,ä»¥ä¸‹ã®ã‚ˆã†ãªè¨­å®šã«é©ã™ã‚‹

- ãƒ•ãƒ¬ãƒ¼ãƒ ã®å¤–è¦³: èµ·å‹•å‰ã«è¨­å®šã™ã‚‹ã“ã¨ã§èµ·å‹•æ™‚ã®ãƒãƒ©ã¤ããŒãªããªã‚‹
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆæœŸåŒ–ã®åˆ¶å¾¡

*** å…¨ä½“æ§‹é€ 
#+begin_src emacs-lisp :tangle early-init.el :noweb yes
;;; package --- åˆæœŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« -*- lexical-binding: t; -*-
;;; Commentary:
;;; Code:

<<early-init-body>>

(provide 'early-init)
;;; early-init.el ends here
#+end_src

*** å„è¨­å®š
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–(melpaç­‰)ã‚’è¨­å®š. ~(setq package-enable-at-startup nil)~ ã§è‡ªå‹•ãƒ­ãƒ¼ãƒ‰ã‚’æŠ‘åˆ¶
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆæœŸåŒ–ã¨èª­ã¿è¾¼ã¿ã¯ =init.el= ã§è¡Œãªã†

#+begin_src emacs-lisp :noweb-ref early-init-body
(require 'package)
(add-to-list 'package-archives '("melpa" . "https://melpa.org/packages/") t)
(setq package-enable-at-startup nil)
#+end_src

ãƒ•ãƒ¬ãƒ¼ãƒ å±æ€§ã®è¨­å®š(ç”»é¢æœ€å¤§åŒ–,ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼éè¡¨ç¤º,ãƒ•ãƒ¬ãƒ¼ãƒ å†…å´ã®ä½™ç™½è¨­å®š)
#+begin_src emacs-lisp :noweb-ref early-init-body
(push '(fullscreen . maximized) default-frame-alist)
(push '(undecorated . t) default-frame-alist)
(push '(internal-border-width . 12) default-frame-alist)
#+end_src

UIãƒ¢ãƒ¼ãƒ‰ã®ç„¡åŠ¹åŒ–(ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼,ãƒ„ãƒ¼ãƒ«ãƒãƒ¼,ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼)
#+begin_src emacs-lisp :noweb-ref early-init-body
(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)
#+end_src

* å…¥åŠ›ã‚·ã‚¹ãƒ†ãƒ Â·ç·¨é›†Â·è£œå®Œ

**  DDSKK
[[https://github.com/skk-dev/ddskk][GitHub]] | [[https://ddskk.readthedocs.io/ja/latest/index.html][Docs]]

SKKè¾æ›¸ > Google APIã®é †ã«æ¤œç´¢Â·å¤‰æ›ã•ã‚Œã‚‹

~pdtk-use-im...~ ã§OSå´ã®IMEã‚’Emacså†…ã§ã¯OFFã«ã™ã‚‹ã“ã¨ã§,ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã« =<zenkaku/hankaku>= ãŒä½¿ãˆã‚‹. ~:map~ ã‚’ç”¨ã„ã¦æ¤œç´¢(isearch)æ™‚ã‚‚æœ‰åŠ¹åŒ–ã—ã¦ã„ã‚‹
=sheep/skk-mode-force-on= é–¢æ•°ã§,Emacsã§skk-modeãŠã‚ˆã³skk-latin-mode(åŠè§’è‹±æ•°)ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã—ã¦ã„ã‚‹.Emacsèµ·å‹•æ™‚ã®ã‚«ãƒ¼ã‚½ãƒ«è‰²ãŒã²ã‚‰ãŒãªç”¨(skk-cursor-hiragana-color)ã«ãªã‚‹ãŸã‚,åŠè§’è‹±æ•°ç”¨(skk-cursor-latin-color)ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦ã„ã‚‹

_!!_ æ–°ã—ã„è¨­å®šé …ç›®ã‚’è¿½åŠ ã™ã‚‹ã¨ãã¯ =use-package= ã®ã©ã“ã«è¨˜è¿°ã™ã‚‹ã¨å‹•ãã‹æ¨¡ç´¢ãŒå¿…è¦.ã¾ãšã¯å¤–ã§è©¦ã™ã®ã‚‚ã‚¢ãƒª

#+begin_src emacs-lisp :noweb-ref ddskk
(use-package ddskk
  :init
  ;; å…¥åŠ›ãƒ«ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
  (setq skk-rom-kana-rule-list
	'(("["  nil "ï½¢")
          ("]"  nil "ï½£")
	  ("!"  nil "!")
	  ("?"  nil "?")
          (";"  nil ";")
          (":"  nil ":")
	  ("z/" nil "Â·")
	  ("z?" nil "/")
	  ("z-" nil "-")))

  ;; Google API for Japanese Input ã‚’æœ‰åŠ¹åŒ–
  (with-eval-after-load 'skk-vars
    (require 'skk-search-web)
    (add-to-list 'skk-search-prog-list
                 '(skk-search-web 'skk-google-cgi-api-for-japanese-input)
                 t))

  ;; isearchã§ã‚‚ssk-modeã‚’ä½¿ç”¨ã™ã‚‹
  (with-eval-after-load 'isearch
    (add-hook 'isearch-mode-hook #'skk-isearch-mode-setup)
    (add-hook 'isearch-mode-end-hook #'skk-isearch-mode-cleanup))

  ;; PGTKç’°å¢ƒã§OSå´ã®IMEã‚’OFF
  (when (featurep 'pgtk)
    (setq pgtk-use-im-context-on-new-connection nil))

  (defun sheep/skk-mode-force-on ()
    "skk-modeã‚’æœ‰åŠ¹åŒ–ã—,skk-latin-modeã«åˆ‡ã‚Šæ›¿ãˆã‚‹"
    (when (fboundp 'skk-mode)
      ;; skk-modeãŒã‚ªãƒ•ã®å ´åˆã®ã¿æœ‰åŠ¹åŒ–
      (unless (bound-and-true-p skk-mode)
	(skk-mode 1))
      ;; skk-latin-modeã‚’æœ‰åŠ¹åŒ–
      (skk-latin-mode 1)
      ;; skk-latin-modeç”¨ã®ã‚«ãƒ¼ã‚½ãƒ«è‰²ã‚’æŒ‡å®š
      (when (and (boundp 'skk-cursor-latin-color)
		 skk-cursor-latin-color)
	(set-cursor-color skk-cursor-latin-color))))

  :hook
  ;; skk-modeã‚’ã‚ªãƒ³,å…¥åŠ›ãƒ¢ãƒ¼ãƒ‰ã‚’skk-latin-modeã«
  ;; (Emacsèµ·å‹•Â·ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãÂ·ãƒãƒƒãƒ•ã‚¡åˆ‡ã‚Šæ›¿ãˆÂ·Vtermèµ·å‹•Â·Gptelèµ·å‹•Â·ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç·¨é›†ã®ã¨ã)
  ((after-init find-file vterm-mode gptel-mode git-commit-mode) . sheep/skk-mode-force-on)
  ;; (Window,Bufferåˆ‡ã‚Šæ›¿ãˆã®ã¨ã)
  (window-selection-change-functions . (lambda (_) (sheep/skk-mode-force-on)))

  ;; å¤‰æ›æ™‚ã®faceã‚’è¨­å®š
  (skk-load . (lambda ()
                (set-face-attribute 'skk-henkan-face-default nil
                                    :foreground (sheep/color 'fg-henkan)
                                    :background (sheep/color 'bg-henkan))))

  :custom
  (skk-large-jisyo "/usr/share/skk/SKK-JISYO.L") ; åŸºæœ¬è¾æ›¸
  (skk-kutouten-type 'en)                        ; å¥èª­ç‚¹ã¯è‹±æ–‡ã‚¹ã‚¿ã‚¤ãƒ«
  (skk-kuten-touten-alist '((en . (". " . ", ")))) ; åŠè§’ã® ,. ã‚’å¥èª­ç‚¹ã¨ã—ã¦å®šç¾©

  ;; ã‚«ãƒ¼ã‚½ãƒ«è‰²
  (skk-cursor-latin-color (sheep/color 'cursor-en))    ; è‹±æ•°
  (skk-cursor-hiragana-color (sheep/color 'cursor-jp)) ; ã²ã‚‰ãŒãª
  (skk-cursor-katakana-color (sheep/color 'cursor-ka)) ; ã‚«ã‚¿ã‚«ãƒŠ

  :bind
  (("C-<zenkaku-hankaku>" . skk-latin-mode) ; è‹±æ•°åˆ‡ã‚Šæ›¿ãˆ
   ("<zenkaku-hankaku>"   . skk-kakutei)    ; ç¢ºå®šÂ·æ—¥æœ¬èªåˆ‡ã‚Šæ›¿ãˆ

   ;; isearchã§ã‚‚å…¥åŠ›åˆ‡ã‚Šæ›¿ãˆã‚’æœ‰åŠ¹åŒ–
   :map isearch-mode-map
   ("C-<zenkaku-hankaku>" . skk-isearch-skk-mode)  ; è‹±æ•°åˆ‡ã‚Šæ›¿ãˆ
   ("<zenkaku-hankaku>"   . skk-isearch-newline))) ; ç¢ºå®šÂ·æ—¥æœ¬èªåˆ‡ã‚Šæ›¿ãˆ
#+end_src

*** è¨˜å·ã®å…¥åŠ›
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§è¨­å®šã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‹ã‚‰æŠœç²‹(ã‚«ã‚¹ã‚¿ãƒ è¨­å®šã¯ã‚³ãƒ¼ãƒ‰å‚ç…§)
| z[ | ã€  |
| z] | ã€  |
| z, | â€¥ |
| z. | â€¦  |

*** æœªä½¿ç”¨ã®æ©Ÿèƒ½
#+begin_src emacs-lisp
;; :init
(setq skk-search-sagyo-henkaku t) ; ã‚µå¤‰å‹•è©å¤‰æ›

;; :custom
(skk-search-katakana t) ; ã‚«ã‚¿ã‚«ãƒŠå¤‰æ›
#+end_src

*** å€‹äººè¾æ›¸
å€‹äººè¾æ›¸ ~~/.skk-jisyo~ ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¤‰æ›å±¥æ­´ã‚’è¨˜éŒ²ã™ã‚‹. M-x ~skk-sisyo-edit~ ã§ç·¨é›†ã§ãã‚‹ãŒ,åŸºæœ¬çš„ã«æ”¾ç½®ã§ã‚ˆã„
å¤‰æ›ã‚’ç¢ºå®šã™ã‚‹ã¨èª¤å¤‰æ›ã§ã‚ã£ã¦ã‚‚å€‹äººè¾æ›¸ã«è‡ªå‹•ç™»éŒ²ã•ã‚Œã‚‹.C-gã§ç¢ºå®šå‰ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã®ãŒæœ›ã¾ã—ã„ãŒ,å®Ÿã¯èª¤å¤‰æ›ãŒç™»éŒ²ã•ã‚Œã¦ã‚‚å®Ÿå®³ã¯å°‘ãªã„.æ­£ã—ã„å¤‰æ›ã‚’ç¹°ã‚Šè¿”ã—ä½¿ãˆã°ãã‚ŒãŒå€‹äººè¾æ›¸ã®ä¸Šä½ã«æ¥ã¦,ã™ãªã‚ã¡å¤‰æ›å€™è£œã®ä¸Šä½ã«æ¥ã‚‹.è¾æ›¸ã«ç™»éŒ²ã•ã‚ŒãŸèª¤å¤‰æ›ã¯æ°—ãŒå‘ã„ãŸã¨ãã«æ°—ã¥ã„ãŸã‚‰æ¶ˆã™ç¨‹åº¦ã§ååˆ†ãªã‚ˆã†ã§ã‚ã‚‹

** ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†
ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ =C-j= ã®ã¿ :init ã§ key-translation-map ã‚’ä½¿ç”¨ã—ã¦è¨­å®šã—ã¦ã„ã‚‹ã®ã¯,ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦è¨­å®šãŒä¸Šæ›¸ãã•ã‚Œã‚‹ã®ã‚’é˜²ããŸã‚ã§ã‚ã‚‹.ãŸã ã—å¤šãã®å ´åˆ ~:bind~ ã«è¨˜è¿°ã—ã¦ã‚‚å•é¡Œã¯ãªã„

Sentenceã®çµ‚ç«¯ã¯, ~sentence-ende-base~ ãŠã‚ˆã³ ~sentence-end-without-space~ (æ—¥æœ¬èªå¯¾å¿œ)ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹

#+begin_src emacs-lisp :noweb-ref text-editing
(use-package emacs
  :ensure nil
  :init
  (define-key key-translation-map (kbd "C-j") (kbd "<DEL>")) ; DEL=BackSpace

  :custom
  ;; Sentenceã®çµ‚ç«¯(åŒºåˆ‡ã‚Š)ã‚’æŒ‡å®š.M-a,M-eç­‰ã®åŸºæº–ã¨ãªã‚‹
  (sentence-end-double-space nil) ; åŠè§’ã‚¹ãƒšãƒ¼ã‚¹1å­—ã§åŒºåˆ‡ã‚Šã‚’æ¤œçŸ¥

  :config
  (defun sheep/copy-line ()
    "ç¾åœ¨è¡Œã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹"
    (interactive)
    (beginning-of-line)
    (set-mark-command nil)
    (forward-line 1)
    (kill-ring-save (point) (mark))
    (forward-line -1)
    (deactivate-mark))

  (defun sheep/copy-to-end-of-line ()
    "ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã‹ã‚‰è¡Œæœ«ã¾ã§ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹"
    (interactive)
    (kill-ring-save (point) (line-end-position)))

  :bind
  (("C-k"     . kill-region)
   ("C-c k k" . kill-line)
   ("C-w"     . kill-ring-save)
   ("M-w"     . sheep/copy-line)
   ("C-c w w" . sheep/copy-to-end-of-line)
   ("C-h"     . mark-sexp)
   ("M-n"     . forward-sexp)
   ("M-m"     . kill-sexp)
   ("M-p"     . backward-sexp)
   ("M-@"     . backward-kill-sexp)
   ("M-h"     . mark-word)
   ("M-j"     . backward-kill-word)))
#+end_src

*** é¸æŠÂ·KillÂ·ã‚³ãƒ”ãƒ¼
| markã‹ã‚‰pointã¾ã§kill*    | C-k     | Default:C-w                                  |
| è¡Œå‰Šé™¤*                   | M-k     | kill-line>crux-kill-whole-lineã«å·®ã—æ›¿ãˆ     |
| ã‚«ãƒ¼ã‚½ãƒ«ã‹ã‚‰è¡Œæœ«ã¾ã§kill* | C-c k k | kill-line                                    |
| markã‹ã‚‰pointã¾ã§copy*    | C-w     |                                              |
| è¡Œã‚³ãƒ”ãƒ¼*                 | M-w     | è‡ªä½œé–¢æ•°                                     |
| ã‚«ãƒ¼ã‚½ãƒ«ã‹ã‚‰è¡Œæœ«ã¾ã§copy* | C-c w w | è‡ªä½œé–¢æ•°                                     |
| Yanking                   | C-y     |                                              |
| Yankingã®å±¥æ­´*            | M-y     | yank-pop>consult-yank-from-kill-ringå·®ã—æ›¿ãˆ |
| markã®ã‚»ãƒƒãƒˆ              | C-SPACE | Kill-Ringã‚’åˆ‡ã‚ŠãŸã„ã¨ãã«ã‚‚ç”¨ã„ã‚‹            |
| å…¨ã¦é¸æŠ                  | C-x h   |                                              |

*** é«˜åº¦ãªç·¨é›†
KillãŠã‚ˆã³Back Killã¯Kill Ringã«è¨˜éŒ²ã•ã‚Œã‚‹
Sexpç³»ã¯,Org Modeã§ã¯Elementç³»ã®ã‚³ãƒãƒ³ãƒ‰ã«ç½®ãæ›¿ã‚ã‚‹

| Word é¸æŠ*      | M-h | Default:M-@             |
| Word Kill       | M-d |                         |
| Word Back Kill  | M-j | Default:M-<backspace>   |
| Sexp é¸æŠ*      | C-h | Default:C-M-SPACE       |
| Sexp Forword*   | M-n | Default:C-M-f           |
| Sexp Kill*      | M-m | Default:C-M-k           |
| Sexp Backword*  | M-p | Default:C-M-b           |
| Sexp Back Kill* | M-@ | Default:C-M-<backspace> |

** å…¥åŠ›ã®æ©Ÿèƒ½å¼·åŒ–Â·è£œå®Œ
*** å…¥åŠ›ã®æ©Ÿèƒ½å¼·åŒ– Crux
[[https://github.com/bbatsov/crux?tab=readme-ov-file#keybindings][Commands-GitHub]]

_!!_ * ãƒ™ãƒ¼ã‚¹ã¨ãªã‚‹æ“ä½œæ–¹æ³• ã‚„ ** ãƒ†ã‚­ã‚¹ãƒˆç·¨é›† ã«cruxã‚³ãƒãƒ³ãƒ‰ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã®èª¬æ˜ãŒã‚ã‚‹ãŸã‚,è¨­å®šå¤‰æ›´ã®éš›ã¯ä¿®æ­£ãŒå¿…è¦

~crux-move-beginning-of-line~ ã¯1å›ç›®ã¯å®Ÿè³ªçš„ãªè¡Œã®å…ˆé ­ã«ç§»å‹•ã™ã‚‹.ã™ãªã‚ã¡ã‚¹ãƒšãƒ¼ã‚¹ã‚„Org Modeã®è¦‹å‡ºã—è¨˜å·*ç­‰ã‚’è€ƒæ…®ã—,ãƒ†ã‚­ã‚¹ãƒˆã‚„ã‚³ãƒ¼ãƒ‰ã®1æ–‡å­—ç›®ã«ã‚«ãƒ¼ã‚½ãƒ«ãŒç§»å‹•ã™ã‚‹.ã•ã‚‰ã«å®Ÿè¡Œã™ã‚‹ã¨æœ¬æ¥ã®è¡Œé ­ã«ç§»å‹•ã™ã‚‹

#+begin_src emacs-lisp :noweb-ref input-completion
(use-package crux
  :bind
  (("M-k"     . crux-kill-whole-line)                  ; è¡Œå…¨ä½“ã‚’å‰Šé™¤
   ("C-a"     . crux-move-beginning-of-line)           ; è¡Œã®å®Ÿè³ªçš„ãªè¡Œé ­ã«ç§»å‹•
   ("M-o"     . crux-smart-open-line)                  ; è¡Œã®é€”ä¸­ã§ã‚‚ä¸‹ã«ç©ºè¡Œã‚’è¿½åŠ ã—ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•
   ("C-c d"   . crux-duplicate-current-line-or-region) ; ç¾åœ¨ã®è¡Œã¾ãŸã¯ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã«è¤‡è£½
   ("C-c s r" . crux-rename-file-and-buffer)           ; ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¨Bufferåã‚’å¤‰æ›´
   ("C-c t"   . crux-transpose-windows)))              ; 2ã¤ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦é–“ã§Bufferã‚’å…¥ã‚Œæ›¿ãˆã‚‹
#+end_src

*** è¡Œç§»å‹• Move Text
[[https://github.com/emacsfodder/move-text][GitHub]]

é¸æŠç¯„å›²ã‚’æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆã¯,ãã®ç¯„å›²å…¨ä½“ã‚’ç§»å‹•ã§ãã‚‹

_!!_ Org Modeã§ã¯ä½¿ãˆãªã„(ãŸã ã—Org Modeã¯å¤šãã®è¦ç´ ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç§»å‹•å¯èƒ½ã§ã‚ã‚‹)

#+begin_src emacs-lisp :noweb-ref input-completion
(use-package move-text
  :config
  (defun my/indent-region-advice (&rest ignored)
    "ç§»å‹•å¾Œã«è‡ªå‹•çš„ã«ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’èª¿æ•´ã™ã‚‹"
    (let ((deactivate deactivate-mark))
      (if (region-active-p)
          (indent-region (region-beginning) (region-end))
        (indent-region (line-beginning-position) (line-end-position)))
      (setq deactivate-mark deactivate)))

  (advice-add 'move-text-up :after #'my/indent-region-advice)
  (advice-add 'move-text-down :after #'my/indent-region-advice)
  :bind
  (("C-M-y" . move-text-up)
   ("C-M-u" . move-text-down)))
#+end_src

*** è‡ªå‹•è£œå®Œ Corfu
[[https://github.com/minad/corfu][GitHub]]

#+begin_src emacs-lisp :noweb-ref input-completion
(use-package corfu
  :init
  (setq global-corfu-modes '(not org-mode markdown-mode)) ; global-corfu-modeã‹ã‚‰é™¤å¤–ã™ã‚‹modeã‚’è¨­å®š
  (global-corfu-mode)                                     ; global-corfu-modeã‚’æœ‰åŠ¹åŒ–

  :custom
  (corfu-auto t)             ; è‡ªå‹•ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
  (corfu-auto-delay 0.2)     ; è¡¨ç¤ºé…å»¶
  (corfu-auto-prefix 2)      ; ç™ºå‹•æ–‡å­—æ•°
  (corfu-cycle t)            ; å€™è£œãƒªã‚¹ãƒˆã‚’å¾ªç’°
  (corfu-preselect 'prompt)) ; èª¤ç¢ºå®šé˜²æ­¢ã®ãŸã‚ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’é¸æŠçŠ¶æ…‹ã«
#+end_src

*** é™çš„ç•¥ç§°å±•é–‹ Abbrev
=SPC , .= ç­‰ã§å±•é–‹ã•ã‚Œã‚‹(è¡Œæœ«ã®ã‚¹ãƒšãƒ¼ã‚¹ã¯æ”¹è¡Œã™ã‚Œã°è‡ªå‹•å‰Šé™¤ã•ã‚Œã‚‹)

_!!_ abbrevå®šç¾©ã‚’æ›¸ãæ›¿ãˆã‚‹å ´åˆ, ~M-x edit-abbrevs~ ã§å¾“å‰ã®å®šç¾©ã®è¡Œã‚’å‰Šé™¤ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

#+begin_src emacs-lisp :noweb-ref input-completion
(use-package abbrev
  :ensure nil
  :hook
  ;; Abbrevã‚’æœ‰åŠ¹åŒ–ã™ã‚‹mode
  (org-mode . abbrev-mode)

  :custom
  (abbrev-file-name (locate-user-emacs-file "abbrev_defs")) ; abbrevã®ä¿å­˜å…ˆ
  (save-abbrevs 'silently)                                  ; Bufferçµ‚äº†æ™‚ã«è‡ªå‹•ä¿å­˜

  :config
  ;; Org Modeç”¨ã®abbrevå®šç¾©
  (define-abbrev-table 'org-mode-abbrev-table
    '(("zl" "[[][]]" nil :count 0)
      ("zc" "_!!_" nil :count 0)
      ("zs" "_START_" nil :count 0)
      ("zb" "_BREAK_" nil :count 0)
      ("ze" "_END_" nil :count 0)
      ("zd" "ğŸ’" nil :count 0)
      ("zw" "ğŸ§­" nil :count 0)
      ("za" "ğŸ¨" nil :count 0)
      ("zem" "emacs-lisp" nil :count 0)
      ("zn" ":noweb-ref" nil :count 0))))
#+end_src

è¤‡æ•°ã®modeã‚’æŒ‡å®šã™ã‚‹ã¨ãã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å…¨ä½“ã‚’()ã§å›²ã†
#+begin_src emacs-lisp
:hook
((org-mode . abbrev-mode)
 (markdown-mode . abbrev-mode))
#+end_src

*** ã‚«ãƒƒã‚³ã®å…¥åŠ›è£œå®Œ Electric Pair
å¯¾å¿œã™ã‚‹é–‰ã˜ã‚«ãƒƒã‚³ã‚„å¼•ç”¨ç¬¦ã‚’è‡ªå‹•çš„ã«æŒ¿å…¥ã™ã‚‹

#+begin_src emacs-lisp :noweb-ref input-completion
(use-package elec-pair
  :ensure nil
  :config
  (electric-pair-mode))
#+END_SRC

*** å¯è¦–ãƒ†ã‚­ã‚¹ãƒˆå†…ç§»å‹• Avy
[[https://github.com/abo-abo/avy][GitHub]]

_!!_ Org Modeã®ã‚ˆã†ãªæ§‹é€ ãŒè¤‡é›‘ã§(ã‹ã¤é•·ã„)ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼ãŒç”Ÿã˜ã‚„ã™ã„ã®ã§ =avy-temeout-seconds= ã®å€¤ã‚’ =1.0= ç¨‹åº¦ã«ã—ã¦ãŠã

#+begin_src emacs-lisp :noweb-ref input-completion
(use-package avy
  :config
  (setopt avy-timeout-seconds 0.8)                ; å…¥åŠ›å¾Œã®å¾…æ©Ÿæ™‚é–“
  (setopt avy-keys '(?a ?s ?d ?f ?g ?h ?j ?k ?l)) ; ãƒ’ãƒ³ãƒˆã«ä½¿ç”¨ã™ã‚‹æ–‡å­—(ãƒ›ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³å„ªå…ˆ)
  (setopt avy-single-candidate-jump t)            ; å€™è£œãŒ1ã¤ã ã‘ã®æ™‚ã¯è‡ªå‹•çš„ã«ã‚¸ãƒ£ãƒ³ãƒ—

  :bind
  (("C-;" . avy-goto-char-timer)))
#+end_src

** å±¥æ­´ã®ç®¡ç† History
*** Undo Fu
#+begin_src emacs-lisp :noweb-ref history
(use-package undo-fu
  :bind
  (([remap undo] . undo-fu-only-undo)
   ([remap undo-only] . undo-fu-only-undo)
   ("C-z" . undo-fu-only-undo)
   ("M-z" . undo-fu-only-redo)))
#+end_src

| undo* | C-z | undo-fu-only-undo |
| redo* | M-z | undo-fu-only-redo |

#+begin_src emacs-lisp :noweb-ref history
(use-package undo-fu-session
  :config
  (setq undo-fu-session-incompatible-files '("/COMMIT_EDITMSG\\'" "/git-rebase-todo\\'"))
  (setq undo-fu-session-file-limit 100)
  (global-undo-fu-session-mode))
#+end_src

*** Vundo
#+begin_src emacs-lisp :noweb-ref history
(use-package vundo
  :bind ("C-x u" . vundo)
  :custom
  (vundo-glyph-alist vundo-unicode-symbols))
#+end_src

| å±¥æ­´ãƒ„ãƒªãƒ¼ã®è¡¨ç¤º* | C-x u | vundo |

*** ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã®ä¿å­˜ Save Place
ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã¨ãã«,å‰å›é–‰ã˜ãŸã¨ãã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã‚’å¾©å…ƒã™ã‚‹

#+begin_src emacs-lisp :noweb-ref history
(use-package saveplace
  :ensure nil
  :init
  (save-place-mode))
#+end_src

* æ¤œç´¢

| æ¤œç´¢(å¾Œæ–¹)      | C-s   | isearch-forward     |
| æ¤œç´¢(å‰æ–¹)      | C-r   | isearch-backword    |
| æ¤œç´¢>ç½®æ›(å¯¾è©±) | M-%   | yã§ç½®æ›,nã§ã‚¹ã‚­ãƒƒãƒ— |
| æ¤œç´¢(è¡Œ)*       | C-c l | consult-line        |
| ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³*   | C-c o | consult-outline     |

** isearch
ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›å¾Œ,C-sã§æ¬¡å€™è£œ,C-rã§å‰å€™è£œã«ç§»å‹•ã—,RETã§ç¢ºå®šã™ã‚‹

* UI & Base

ç”»é¢è¡¨ç¤º(Faceä»¥å¤–)ã¨åŸºæœ¬çš„ãªæŒ™å‹•ã‚’è¨­å®šã™ã‚‹

#+begin_src emacs-lisp
(use-package recentf
  :ensure nil
  :config
  (setopt recentf-max-saved-items 1024) ;; ä¿å­˜ã™ã‚‹å±¥æ­´ã®æœ€å¤§æ•°
  (recentf-mode))



(use-package subword
  :ensure nil
  :init
  (global-subword-mode))

(use-package delsel
  :ensure nil
  :config
  (delete-selection-mode))
#+end_src

#+begin_src emacs-lisp :noweb-ref ui-and-base
(use-package emacs
  :ensure nil
  :init
  ;; ç²¾å¯†ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®æœ‰åŠ¹åŒ–
  (when (fboundp 'pixel-scroll-precision-mode)
    (pixel-scroll-precision-mode 1))

  :custom
  ;; Interaction
  (use-short-answers t) ; yes-or-noã‚’y-or-nã«å¤‰æ›´

  ;; Save & Revert
  (kill-ring-max 20)                      ; Kill Ringã®æœ€å¤§æ•°
  (save-interprogram-paste-before-kill t) ; Kill Ringã«æ–°ã—ã„ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹å‰ã«ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã®å†…å®¹ã‚’ä¿å­˜
  (make-backup-files nil)                 ; ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãªã„
  (create-lockfiles nil)                  ; ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãªã„
  (delete-by-moving-to-trash t)           ; å‰Šé™¤ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚´ãƒŸç®±ã«ç§»å‹•

  ;; Window & Buffer
  (split-width-threshold 0)      ; æ°´å¹³åˆ†å‰²ã‚’å„ªå…ˆ
  (split-height-threshold nil)   ; å‚ç›´åˆ†å‰²ã‚’æŠ‘åˆ¶
  (scroll-conservatively 101)    ; ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã®ç”»é¢é£›ã³ã‚’é˜²æ­¢
  (scroll-margin 0)              ; ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚¸ãƒ³ãªã—
  (show-trailing-whitespace t)   ; è¡Œæœ«ã®ç©ºç™½æ–‡å­—ã‚’å¯è¦–åŒ–
  (initial-scratch-message nil)  ; *scratch*ã®åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«
  (initial-major-mode 'org-mode) ; *scratch*ã®åˆæœŸãƒ¢ãƒ¼ãƒ‰ã‚’Org Modeã«

  :config
  (defun sheep/find-home ()
    "HOME.orgã‚’é–‹ã"
    (interactive)
    (find-file "~/daily/HOME.org"))

  (defun sheep/find-daily ()
    "DAILY.orgã‚’é–‹ã"
    (interactive)
    (find-file "~/daily/DAILY.org"))

  (defun sheep/find-lifelog ()
    "LIFELOG.orgã‚’é–‹ã"
    (interactive)
    (find-file "~/daily/LIFELOG.org"))

  (defun sheep/find-init ()
    "è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(emacs.org)ã‚’é–‹ã"
    (interactive)
    (find-file "~/.emacs.d/emacs.org"))

  (defun sheep/split-window-and-focus ()
    "ç”»é¢ã‚’å³ã«åˆ†å‰²ã—ã¦ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã‚’ç§»å‹•ã™ã‚‹"
    (interactive)
    (let ((new-window (split-window-right)))
      (select-window new-window)))

  :bind
  (("C-c g h" . sheep/find-home)    ; HOME.orgã‚’é–‹ã
   ("C-c g d" . sheep/find-daily)   ; DAILY.orgã‚’é–‹ã
   ("C-c g l" . sheep/find-lifelog) ; LIFELOG.orgã‚’é–‹ã
   ("C-c g i" . sheep/find-init)    ; è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(emacs.org)ã‚’é–‹ã
   ("C-c g s" . scratch-buffer)     ; *scratch*ã‚’é–‹ã
   ("C-c g p" . previous-buffer)    ; å‰ã®Buffer
   ("C-c g n" . next-buffer)        ; æ¬¡ã®Buffer

   ("C-x f"   . find-file)
   ("C-c 3 f" . find-file-other-window)
   ("C-x 3"   . sheep/split-window-and-focus)

   ("C-c b"   . ibuffer)

   ("C-x k"   . kill-current-buffer)
   ("C-c k w" . kill-buffer-and-window)
   ("C-x s"   . save-buffer)
   ("C-c s s" . save-some-buffers)
   ("C-c s n" . write-file)

   ("C-t"     . other-window)
   ("C-x o"   . other-frame)

   ("M-["     . beginning-of-buffer)
   ("M-]"     . end-of-buffer)

   ("M-l"     . visual-line-mode)
   ("M-r"     . read-only-mode)))
#+end_src

** UIã®éšå±¤æ§‹é€ 
- Frame: OSãƒ¬ãƒ™ãƒ«ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
  - Window
    - Display Area: Bufferã®æœ¬ä½“
    - Mode Line: Bufferã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
  - Echo Area(é€šçŸ¥)/Minibuffer(ã‚³ãƒãƒ³ãƒ‰å…¥åŠ›Â·æ¤œç´¢)

** Frame
| Current Frame Close       | C-x 5 0 |                                      |
| Current Frameä»¥å¤–ã‚’ Close | C-x 5 1 |                                      |
| New Frame                 | C-x 5 2 |                                      |
| Find File Other Frame     | C-x 5 f |                                      |
| Switch Buffer Other Frame | C-x 5 b | consult-buffer-other-frameã«å·®ã—æ›¿ãˆ |
| Other Frame*              | C-x o   | Default:C-x 5 o                      |

** Window
| Current Window Close        | C-x 0 |                                    |
| ç¾åœ¨ã®Windowä»¥å¤–ã‚’Close     | C-x 1 |                                    |
| Windowã‚’ä¸Šä¸‹ã«åˆ†å‰²          | C-x 2 |                                    |
| Windowã‚’å·¦å³ã«åˆ†å‰²          | C-x 3 |                                    |
| Other Window*               | C-t   | Default:C-x o                      |
| Windowã®å…¥ã‚Œæ›¿ãˆ*           | C-c t | crux-transpose-windows             |
| ä»–Windowã‚’æ¬¡ã®ç”»é¢ã¸        | C-M-v |                                    |
| ä»–Windowã‚’å‰ã®ç”»é¢ã¸        | C-M-V |                                    |
| Windowã®æ¨ªå¹…ã‚’åºƒã’ã‚‹        | C-x } | C-N C-x } ã®Nã«,ç§»å‹•æ–‡å­—æ•°ã‚’è¨­å®šå¯ |
| Windowã®æ¨ªå¹…ã‚’ç‹­ã‚ã‚‹        | C-x { |                                    |
| Windowã®é«˜ã•ã‚’æ‹¡å¤§          | C-x ^ |                                    |

** Buffer
*** é–‹ãÂ·åˆ‡ã‚Šæ›¿ãˆ
| New File*                 | C-x f   | Default:C-x C-f                         |
| New File(other window)*   | C-c 3 f | find-file-other-window                  |
| New File(read-only)       | C-x C-r |                                         |
| Bufferã®åˆ‡ã‚Šæ›¿ãˆ*         | C-x b   | switch-to-buffer>consult-bufferå·®ã—æ›¿ãˆ |
| ibufferã®è¡¨ç¤º*            | C-c b   |                                         |
| New Windowã«Bufferã‚’è¡¨ç¤º* | C-c 3 b | consult-buffer-other-window             |

*** Bufferå†…ã®æ“ä½œ
| Bufferã®å…ˆé ­ã¸*                  | M-[     | Default:M-<                   |
| Bufferã®æœ«å°¾ã¸*                  | M-]     | Default:M->                   |
| æ¬¡ã®ç”»é¢ã¸                       | C-v     |                               |
| å‰ã®ç”»é¢ã¸                       | M-v     |                               |
| ã‚«ãƒ¼ã‚½ãƒ«è¡Œã‚’ç”»é¢ä¸­å¤®ã¸>ä¸Šç«¯>ä¸‹ç«¯ | C-l     |                               |
| æŠ˜è¿”ã—ãƒ¢ãƒ¼ãƒ‰ã®åˆ‡ã‚Šæ›¿ãˆ*          | M-l     |                               |
| read-onlyã«åˆ‡ã‚Šæ›¿ãˆ*             | M-r     |                               |

*** KillÂ·ä¿å­˜
| Bufferã®æ¶ˆå»*                    | C-x k   | kill-current-bufferã«å·®ã—æ›¿ãˆ |
| Bufferã¨Windowã®æ¶ˆå»*            | C-c k w | Default:C-x 4 0               |
| Bufferã®ä¿å­˜(current)*           | C-x s   | Default:C-x C-s               |
| Bufferã®ä¿å­˜(1ã¤ãšã¤ç¢ºèª)*       | C-c s s | Default:C-x s                 |
| Bufferã®åˆ¥åä¿å­˜*                | C-c s n | Default:C-x C-w               |
| Buffer & Fileåã®å¤‰æ›´*           | C-c s r | crux-rename-file-and-buffer   |

** Mini Buffer
*** ã‚³ãƒãƒ³ãƒ‰å±¥æ­´ã®ä¿å­˜ Savehist Mode
Mini Bufferã®å…¥åŠ›å±¥æ­´ã‚„,æ¤œç´¢Â·ç½®æ›ã®å±¥æ­´ãªã©ã‚’ä¿å­˜ã™ã‚‹

#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package savehist
  :ensure nil
  :init
  (savehist-mode))
#+end_src
*** Vertico
#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package vertico
  :init
  (vertico-mode)
  :custom
  (vertico-count 20))
#+end_src
*** Orderless
#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package orderless
  :custom
  (completion-styles '(orderless basic))
  (completion-category-defaults nil)
  (completion-category-overrides '((file (styles partial-completion)))))
#+end_src

*** Consult
#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package consult
  :config
  (add-to-list 'consult-buffer-filter "^magit")

  (defvar sheep/consult-tab-source
    `(:name "Tab Bar"
      :narrow ?t
      :category tab-bar
      :face consult-file
      :items ,(lambda () (mapcar (lambda (tab) (alist-get 'name tab)) (tab-bar-tabs)))
      :action ,(lambda (cand) (tab-bar-select-tab-by-name cand))))

  (add-to-list 'consult-buffer-sources 'sheep/consult-tab-source 'append)

  :bind
  (("C-c l"   . consult-line)
   ("C-c o"   . consult-outline)
   ("C-x b"   . consult-buffer)
   ("C-c 3 b" . consult-buffer-other-window)
   ("C-x 5 b" . consult-buffer-other-frame)
   ("M-y"     . consult-yank-from-kill-ring)
   ("C-c m"   . consult-mark)
   ("C-x r b" . consult-bookmark)
   ("C-x p b" . consult-project-buffer)
   ("C-x p g" . consult-ripgrep)))
#+end_src

*** Embark
#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package embark
  :bind (("C-@" . embark-act)))
#+end_src
| Actionãƒªã‚¹ãƒˆã‚’è¡¨ç¤º* | C-@ | embark-act |
#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package embark-consult
  :after (embark consult))
#+end_src
*** Marginalia
#+begin_src emacs-lisp :noweb-ref mini-buffer
(use-package marginalia
  :init (marginalia-mode)
  :config
  (add-to-list 'marginalia-annotators '(file builtin)))
#+end_src

** è‡ªå‹•å†èª­ã¿è¾¼ã¿ Auto Revert
Bufferã§é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤–éƒ¨ã§å¤‰æ›´ã•ã‚ŒãŸã¨ã,è‡ªå‹•ã§å†èª­ã¿è¾¼ã¿ã‚’è¡Œãªã†.Gitã®ãƒ–ãƒ©ãƒ³ãƒåˆ‡ã‚Šæ›¿ãˆ,Prettierã‚„Lintç³»ãƒ„ãƒ¼ãƒ«ã®å®Ÿè¡Œæ™‚ãªã©

#+begin_src emacs-lisp :noweb-ref auto-revert
(use-package autorevert
  :ensure nil
  :hook (after-init . global-auto-revert-mode) ; èµ·å‹•å¾Œã«Auto Revertã‚’æœ‰åŠ¹åŒ–
  :custom
  (global-auto-revert-non-file-buffers t) ; ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®Bufferã‚„Bufferãƒªã‚¹ãƒˆç­‰ã‚‚å†èª­ã¿è¾¼ã¿ã®å¯¾è±¡ã«ã™ã‚‹
  (auto-revert-verbose nil)               ; å†èª­ã¿è¾¼ã¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã™ã‚‹
  (auto-revert-check-vc-info t))          ; Gitã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æƒ…å ±ã‚‚å†èª­ã¿è¾¼ã¿ã®å¯¾è±¡ã«ã™ã‚‹
#+end_src

* ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ Workspace

** Desktop
#+begin_src emacs-lisp :noweb-ref desktop
(use-package desktop
  :ensure nil
  :config
  (desktop-save-mode 1)
  :custom
  (desktop-save t)
  (desktop-load-locked-desktop t)
  (desktop-restore-eager 10)
  (desktop-scratch-buffer-save t)
  (desktop-globals-to-save nil))
#+end_src
** Project
#+begin_src emacs-lisp :noweb-ref project
(use-package project
  :ensure nil
  :custom
  (project-vc-extra-root-markers '(".git"))
  :config
  (defun sheep/project-switch-to-new-tab-and-dired ()
    "æ–°ã—ã„ã‚¿ãƒ–ã‚’ä½œæˆã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã‚’Dirvish(Dired)ã§é–‹ã"
    (interactive)
    (let ((dir (project-root (project-current t))))
      (tab-bar-new-tab)
      (dired dir)))

  (setq project-switch-commands
        '((sheep/project-switch-to-new-tab-and-dired "New Tab & Dirvish" "n")
          (project-find-file "Find file" "f")
          (magit-project-status "Magit" "m")
          (project-eshell "Eshell" "e"))))
#+end_src
** Tab Bar
#+begin_src emacs-lisp :noweb-ref tab-bar
(use-package tab-bar
  :ensure nil
  :init
  (tab-bar-mode 1)
  (tab-bar-history-mode 1)
  :custom
  (tab-bar-show nil)
  (tab-bar-new-tab-choice sheep/home-org-file)
  :bind
  ("C-c <left>"  . tab-bar-history-back)
  ("C-c <right>" . tab-bar-history-forward))
#+end_src
* ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª Directory
** Dired
#+begin_src emacs-lisp :noweb-ref directory
(use-package dired
  :ensure nil
  :config
  (setq dired-listing-switches "-lA --group-directories-first"))
#+end_src
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é–‹ã                 | C-x d                            | find fileã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¦ã‚‚èµ·å‹•ã™ã‚‹ |
| Close Window                       | q                                |                                             |
| Open File                          | RET, n                           |                                             |
| Next Line                          | n, SPC                           |                                             |
| Previous Line                      | p                                |                                             |
| Create Directory                   | +                                |                                             |
| ä¸Šã®éšå±¤ã¸                         | ^                                |                                             |
| Buffer æ›´æ–°                        | g                                |                                             |
|------------------------------------+----------------------------------+---------------------------------------------|
| mark                               | m                                |                                             |
| å‰Šé™¤å€™è£œã¨ã—ã¦mark                 | d                                |                                             |
| markã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤             | x                                |                                             |
| æ­£è¦è¡¨ç¾ã§mark                     | *%                               |                                             |
| 1è¡Œä¸Šã®markã‚’å¤–ã™                  | <BackSpace>                      |                                             |
| ç¾åœ¨è¡Œã®markã‚’å¤–ã™                 | u                                |                                             |
| ãƒãƒ¼ã‚¯ã‚’å…¨ã¦å¤–ã™                   | *!                               |                                             |
|------------------------------------+----------------------------------+---------------------------------------------|
| æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤             | D                                |                                             |
| æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼           | C                                |                                             |
| æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«åã‚’å¤‰æ›´           | R                                |                                             |
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚„ãƒ•ã‚¡ã‚¤ãƒ«åã®ä¸€æ‹¬ç·¨é›† | M-x wdired-change-to-wdired-mode |                                             |
| ä¸€æ‹¬ç·¨é›†ã®é©ç”¨                     | C-c C-c                          |                                             |
| ä¸€æ‹¬ç·¨é›†ã®å†…å®¹ã‚’ç ´æ£„               | C-c ESC                          |                                             |
** Dirvish
#+begin_src emacs-lisp :noweb-ref directory
(use-package dirvish
  :init
  (dirvish-override-dired-mode)
  :custom
  (dirvish-attributes
   '(nerd-icons file-time file-size collapse subtree-state vc-state git-msg))
  (dirvish-mode-line-format
   '(:left (sort symlink) :right (omit yank index)))
  :config
  (setq dirvish-default-layout '((0 0.4 0.6) (0 0.6 0.4)))
  :bind
  (:map dired-mode-map
        ("TAB" . dirvish-subtree-toggle)
        ("f"   . dirvish-file-info-menu)
        ("y"   . dirvish-yank-menu)
        ("N"   . dirvish-narrow)
        ("h"   . dired-up-directory)
        ("l"   . dired-find-file)
        ("C-t" . other-window)))
#+END_SRC
** Nerd Icons
#+begin_src emacs-lisp :noweb-ref directory
(use-package nerd-icons
  :custom
  (nerd-icons-font-family "Symbols Nerd Font Mono"))
#+end_src

* ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ Bookmark

#+begin_src emacs-lisp :noweb-ref bookmark
(use-package bookmark
  :ensure nil
  :custom
  (bookmark-save-flag 1))
#+end_src

| bookmark-set   | C-x r m |                  |
| bookmark-jamp* | C-x r b | consult-bookmark |

* ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  Package System

1. ~(package-initialize)~ ã§åˆæœŸåŒ–. =early-init.org= ã® ~(setq package-enable-at-startup nil)~ ã¨ã‚»ãƒƒãƒˆã§ç”¨ã„ã‚‹
2. ~(require 'use-package)~ ã§ =use-package= ã‚’èª­ã¿è¾¼ã‚€(å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ãªãuse-packageãã®ã‚‚ã®)
3. ~(setq use-package-always-ensure t)~ ã§ =use-package= ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œã‚’è¨­å®š
   t: ã™ã¹ã¦ã® =use-package= å®£è¨€ã§ =:ensure t= ã‚’æŒ‡å®šã™ã‚‹ã®ã¨åŒã˜å‹•ä½œã¨ãªã‚‹.ã¤ã¾ã‚Šè‡ªå‹•ã§èª­ã¿å–ã‚‹. =package-refresh-contents= (ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆã®æ›´æ–°)ã¯æ‰‹å‹•ã§å®Ÿè¡Œã™ã‚‹å¿…è¦ã‚ã‚Š

#+begin_src emacs-lisp :noweb-ref package-system
(package-initialize)
(require 'use-package)
(setq use-package-always-ensure t)
#+end_src

** Commands
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒªã‚¹ãƒˆã‚’æœ€æ–°ã®çŠ¶æ…‹ã«æ›´æ–°ã™ã‚‹       | M-x package-refresh-contents           | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‰ã«å®Ÿè¡Œ |
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«                     | M-x package-install RET <Package Name> |                                  |
| å†èµ·å‹•ã›ãšã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸæ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€ | M-x package-initialize                 |                                  |

** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‰Šé™¤
=M-x list-packages= > =d= > =x=
ãƒªã‚¹ãƒˆã« =dependency= ã¨è¨˜è¼‰ã•ã‚ŒãŸã‚‚ã®ã¯ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸. =M-x package-autoremove= ã§å‰Šé™¤

** ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨å±¥æ­´ã®å‰Šé™¤
ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å°å…¥ã«ã‚ˆã‚ŠEmacsæœ¬ä½“ã®å‹•ä½œãŒä¸å®‰å®šã«ãªã£ãŸã¨ãã¯,ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï½¥å±¥æ­´ã‚‚å‰Šé™¤ã—ã¦ã¿ã‚‹ã¨ã‚ˆã„
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å®Ÿä½“: =~/.emacs.d/elpa/=
- ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥: =~/.emacs.d/elpa/archives= ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«
- M-xã§å…¥åŠ›ã—ãŸã‚³ãƒãƒ³ãƒ‰ã‚„æ¤œç´¢æ–‡å­—åˆ—ã®å±¥æ­´: =~/.emacs.d/history=

* å¤‰æ•° Global Variable

** ãƒ•ã‚©ãƒ³ãƒˆ
PlemolJP(IBM Plex Monoã¨IBM Plex Sans JPã®åˆå­—)ã¯æ—¥æœ¬èªãŒé–“å»¶ã³ã—Org Modeãªã©æ–‡ç« ä¸­å¿ƒã®å®Ÿç”¨ã«ã¯è€ãˆãªã„.ãã“ã§IBM Plex Monoã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆFaceã«è¨­å®šã®ä¸Š,æ—¥æœ¬èª(å…¨è§’)ã«ã¯Noto Sans Mono CJK JPã‚’å‰²ã‚Šå½“ã¦ãŸ
Tableã®ã¿PlemolJPã‚’æŒ‡å®šã—ã¦ã„ã‚‹.åŠè§’è‹±æ•°ã®è¡¨ç¤ºã¯PlemolJP(ãƒ—ãƒ¬ãƒ¼ãƒ³ãªIBM Plex Monoã¨åŒã˜)ãŒæœ‰åŠ¹ã¨ãªã‚‹.æ—¥æœ¬èª(å…¨è§’)ã®è¡¨ç¤ºã¯Noto Sans Mono CJK JPã§ä¸Šæ›¸ãã•ã‚Œã‚‹.æ–‡å­—ãƒ”ãƒƒãƒã¯PlemolJPã®è¨­å®šãŒç”Ÿãã‚‹ãŸã‚Tableã®è¡¨ç¤ºå´©ã‚ŒãŒæŠ‘åˆ¶ã•ã‚Œã‚‹

Org Modeã®Level(è¦‹å‡ºã—)ç­‰ã«ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ãƒãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦Noto Sans CJK JPã‚’æ¡ç”¨ã—ã¦ã„ã‚‹

#+begin_src emacs-lisp :noweb-ref variable
(defvar sheep/fonts
  `((default  . "IBM Plex Mono")
    (japanese . "Noto Sans Mono CJK JP")
    (write-h  . "Noto Sans CJK JP")
    (table    . "PlemolJP"))
  "Font Familyã®å®šç¾©")

(defun sheep/font (name)
  (alist-get name sheep/fonts))
#+end_src

** ã‚«ãƒ©ãƒ¼
#+begin_src emacs-lisp :noweb-ref variable
(defvar solarized-colors
  '((base03  . "#002b36")
    (base02  . "#073642")
    (base01  . "#586e75")
    (base00  . "#657b83")
    (base0   . "#839496")
    (base1   . "#93a1a1")
    (base2   . "#eee8d5")
    (base3   . "#fdf6e3")
    (yellow  . "#b58900")
    (orange  . "#cb4b16")
    (red     . "#dc322f")
    (magenta . "#d33682")
    (violet  . "#6c71c4")
    (blue    . "#268bd2")
    (cyan    . "#2aa198")
    (green   . "#859900"))
  "Solarizedã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã®å®šç¾©")

(defun solarized (name)
  (alist-get name solarized-colors))

(defvar sheep/colors
  `((fg         . ,(solarized 'base01))
    (bg         . ,(solarized 'base3))
    (bg-alt     . ,(solarized 'base2))
    (link       . ,(solarized 'blue))
    (h1         . ,(solarized 'orange))
    (h2         . ,(solarized 'cyan))
    (h3         . ,(solarized 'yellow))
    (h4         . ,(solarized 'violet))
    (h5         . ,(solarized 'green))
    (strong     . ,(solarized 'base01))
    (emphasis   . ,(solarized 'orange))
    (annotation . ,(solarized 'violet))
    (caption    . ,(solarized 'green))
    (line       . ,(solarized 'base2))
    (cursor-en  . ,(solarized 'base01))
    (cursor-jp  . ,(solarized 'magenta))
    (cursor-ka  . ,(solarized 'cyan))
    (fg-henkan  . ,(solarized 'base3))
    (bg-henkan  . ,(solarized 'violet)))
  "UIè¦ç´ ã”ã¨ã®ã‚«ãƒ©ãƒ¼ã®å®šç¾©")

(defun sheep/color (name)
  (alist-get name sheep/colors))
#+end_src

* å¤–è¦³ Global Appearance

** ãƒ†ãƒ¼ãƒ Solarized Theme
#+begin_src emacs-lisp :noweb-ref theme
(use-package solarized-theme
  :config
  (load-theme 'solarized-light t))
#+end_src

*** Colorset
| base03 | #002b36 | base02 | #073642 | base01 | #586e75 | base00  | #657b83 |
| base0  | #839496 | base1  | #93a1a1 | base2  | #eee8d5 | base3   | #fdf6e3 |
| yellow | #b58900 | orange | #cb4b16 | red    | #dc322f | magenta | #d33682 |
| violet | #6c71c4 | blue   | #268bd2 | cyan   | #2aa198 | green   | #859900 |
[[file:/home/sheepink/.emacs.d/.github/assets/solarized-palette.png]]

** ãƒ•ã‚§ã‚¤ã‚¹ Face
=ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆFace= ã¯ *ã™ã¹ã¦ã®ãƒãƒƒãƒ•ã‚¡ã®åŸºæº–* ã¨ã—ã¦æ©Ÿèƒ½ã—,ãƒ•ã‚©ãƒ³ãƒˆ,ãƒ†ã‚­ã‚¹ãƒˆè‰²,ãƒãƒƒãƒ•ã‚¡èƒŒæ™¯è‰²ãªã©ãŒè¨­å®šã§ãã‚‹
_!!_ height(ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º)ã‚’3æ¡ã®æ•°å­—ã§è¨­å®šã™ã‚‹å ´åˆ,100=10pt.1ã”ã¨ã«ã‚µã‚¤ã‚ºãŒå¤‰ã‚ã‚‹ã‚ã‘ã§ã¯ãªã„

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆFaceã¨åˆ¥ã«æ—¥æœ¬èªç”¨ã®ãƒ•ã‚©ãƒ³ãƒˆã‚’è¨­å®šã—ã¦ã„ã‚‹

Solarized Themeã§ã¯Org Modeã®Level(è¦‹å‡ºã—)ãŒãƒ—ãƒ­ãƒãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆã«ãªã‚‹.æ—¥æœ¬èªç”¨ã®ãƒ—ãƒ­ãƒãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ãªã„ã¨æ—¥æœ¬èªãŒã‚®ã‚¶ã¤ã

Italicã¯èµ¤å­—(Caution),Underlineã¯ç·‘å°æ–‡å­—(Caption)ã¨,ç”¨é€”å¤‰æ›´&Faceèª¿æ•´ã—ã¦ã„ã‚‹

_!!_ ä»¥ä¸‹ã®use-packageã¯,è¡Œç•ªå·ã®è¡¨ç¤ºãªã©,Faceã¯çµ¡ã¾ãªã„ãŒè¦‹ãŸç›®ã«é–¢ã‚ã‚‹è¨­å®šã‚‚å«ã‚€

#+begin_src emacs-lisp :noweb-ref global-face
(use-package emacs
  :ensure nil
  :hook
  ;; è¡Œç•ªå·ã‚’è¡¨ç¤º
  (prog-mode . display-line-numbers-mode) ; ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å…¨èˆ¬
  (conf-mode . display-line-numbers-mode) ; è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å…¨èˆ¬

  :config
  ;; ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆFace
  (set-face-attribute 'default nil
                      :family (sheep/font 'default)  ; Font
                      :height 100                    ; Font Size
                      :weight 'normal                ; Font Weight
                      :foreground (sheep/color 'fg)  ; Font å‰æ™¯è‰²
                      :background (sheep/color 'bg)) ; Buffer èƒŒæ™¯è‰²

  (dolist (script '(kana han symbol cjk-misc bopomofo))
    (set-fontset-font t script (font-spec :family (sheep/font 'japanese))))

  ;; ãƒ—ãƒ­ãƒãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ•ã‚©ãƒ³ãƒˆ
  (set-face-attribute 'variable-pitch nil
                      :family (sheep/font 'write-h)
                      :height 1.0
                      :weight 'normal)

  ;; Bold,Italic,Underline
  (set-face-attribute 'bold nil
                      :foreground (sheep/color 'strong)
                      :weight 'bold)
  (set-face-attribute 'italic nil
                      :foreground (sheep/color 'caption)
                      :height 0.9
                      :underline nil)
  (set-face-attribute 'underline nil
                      :foreground (sheep/color 'emphasis)
                      :underline nil)

  ;; Mode Line
  (set-face-attribute 'mode-line nil :underline nil)
  (set-face-attribute 'mode-line-inactive nil :underline nil)

  ;; Fringe
  (fringe-mode 12)                                ; å¹…
  (set-face-background 'fringe (sheep/color 'bg)) ; èƒŒæ™¯è‰²

  ;; Windowé–“ã®å¢ƒç•Œç·š
  (set-face-attribute 'vertical-border nil
                      :foreground (sheep/color 'line)))
#+end_src

* Web Develop

* Org Mode

** Org Modeã®åŸºæœ¬
ã‚¹ãƒ ãƒ¼ã‚ºã«Speed CommandãŒä½¿ãˆã‚‹ã‚ˆã†ã«,Orgè¦‹å‡ºã—ã®è¡Œé ­ã«ç§»å‹•ã—ãŸã¨ãè‡ªå‹•ã§åŠè§’è‹±æ•°(skk-latin-mode)ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹å‡¦ç†ã‚’å…¥ã‚Œã¦ã„ã‚‹.

#+begin_src emacs-lisp :noweb-ref org-mode
(use-package org
  :ensure nil
  :custom
  (org-use-speed-commands t)           ; ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’æœ‰åŠ¹åŒ–

  (org-startup-indented t)             ; é–‹ã„ãŸã¨ãã«è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ
  (org-indent-indentation-per-level 4) ; ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå¹…
  (org-src-preserve-indentation t)     ; ã‚½ãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’ä¿æŒ

  (org-hide-emphasis-markers t)        ; ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨˜å·ã‚’éš ã™
  (word-wrap-by-category t)            ; å’Œæ¬§æ··åˆæ–‡ã®æŠ˜è¿”ã—ã‚’æ”¹å–„

  (org-startup-with-inline-images t)   ; ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã¨ãã«ç”»åƒã‚’è¡¨ç¤º
  (org-image-actual-width nil)         ; ç”»åƒã‚µã‚¤ã‚ºã®è‡ªå‹•èª¿æ•´ã‚’ç„¡åŠ¹åŒ–
  (org-image-max-width 600)            ; ç”»åƒã®æœ€å¤§å¹…

  :config
  (require 'org-tempo) ; <s TAB ç­‰ã§ã®ã‚½ãƒ¼ã‚¹ãƒ–ãƒ­ãƒƒã‚¯æŒ¿å…¥ã‚’æœ‰åŠ¹åŒ–

  (defun sheep/org-insert-heading-eol ()
    "è¡Œæœ«ã§è¦‹å‡ºã—ã‚’è¿½åŠ "
    (interactive)
    (end-of-line)
    (org-insert-heading))

  (defun sheep/org-insert-item-eol ()
    "è¡Œæœ«ã§ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ "
    (interactive)
    (end-of-line)
    (org-meta-return))

  (defun sheep/org-kill-element ()
    "è¦ç´ å…¨ä½“ã‚’å‰Šé™¤"
    (interactive)
    (let ((beg (point)))
      (org-mark-element)
      (kill-region (region-beginning) (region-end))))

  (defun sheep/org-backward-kill-element ()
    "å‰ã®è¦ç´ å…¨ä½“ã‚’å‰Šé™¤"
    (interactive)
    (let ((end (point)))
      (org-backward-element)
      (kill-region (point) end)))

  (defun sheep/skk-latin-at-org-heading (&rest _args)
    "Orgè¦‹å‡ºã—è¡Œã§ã¯åŠè§’è‹±æ•°(skk-latin-mode)ã«åˆ‡ã‚Šæ›¿ãˆ"
    (when (and (derived-mode-p 'org-mode)
               (org-at-heading-p))
      (skk-latin-mode 1)))

  ;; è¤‡æ•°ã®ã‚³ãƒãƒ³ãƒ‰ã«,å®Ÿè¡Œå¾Œ(after),Orgè¦‹å‡ºã—è¡Œãªã‚‰åŠè§’è‹±æ•°ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å‡¦ç†ã‚’è¿½åŠ 
  (dolist (func '(crux-move-beginning-of-line
                  org-forward-element
                  org-backward-element))
    (advice-add func :after #'sheep/skk-latin-at-org-heading))

  ;; è¦ªã¨ãªã‚‹Orgè¦‹å‡ºã—è¡Œã«ç§»å‹•ã—ãŸã¨ãåŠè§’è‹±æ•°(skk-latin-mode)ã«åˆ‡ã‚Šæ›¿ãˆ
  (advice-add 'org-previous-visible-heading :after
              (lambda (&rest _args)
		(skk-latin-mode 1)))

  :bind
  (:map org-mode-map
        ("C-S-<return>" . sheep/org-insert-heading-eol)
        ("M-<return>"   . sheep/org-insert-item-eol)
        ("M-S-<return>" . org-meta-return)
        ("C-M-y"        . org-metaup)
        ("C-M-u"        . org-metadown)
        ("C-M-h"        . org-metaleft)
        ("C-M-j"        . org-metaright)
        ("C-M-n"        . org-shiftleft)
        ("C-M-m"        . org-shiftright)
        ("M-Y"          . org-shiftmetaup)
        ("M-U"          . org-shiftmetadown)
        ("M-H"          . org-shiftmetaleft)
        ("M-J"          . org-shiftmetaright)
        ("C-h"          . org-mark-element)
        ("M-n"          . org-forward-element)
        ("M-m"          . sheep/org-kill-element)
        ("M-p"          . org-backward-element)
        ("M-@"          . sheep/org-backward-kill-element)
        ("M-h"          . mark-word)
	("C-c s t"      . org-babel-tangle)))
#+end_src

*** Speed Command
ä»¥ä¸‹ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰è¡¨ã®è¡Œé ­ã® =[]= ã®è¨˜å·ãŒã‚¹ãƒ”ãƒ¼ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã§ã‚ã‚‹. ~(org-use-speed-commands t)~ ã§æœ‰åŠ¹åŒ–.Levelè¡Œé ­ã§æ©Ÿèƒ½ã™ã‚‹

*** Levelé–“ã®ã‚«ãƒ¼ã‚½ãƒ«ç§»å‹•
| [n]Next Headline                  | C-c C-n     |                                |
| [p]Previous Headline              | C-c C-p     |                                |
| [f]Next Headline(current)         | C-c C-f     |                                |
| [b]Previous Headline(current)     | C-c C-b     |                                |
| [u]Parent Headline                | C-c C-u     |                                |

*** Outline
| [U]Outline Move Up*               | C-M-y       | Default:M-UP             |
| [D]Outline Move Down*             | C-M-u       | Default:M-DOWN           |
| è¦ªå­é–¢ä¿‚ã‚’ç„¡è¦–ã—ã¦ä¸Šä¸‹ç§»å‹•*       | M-Y/M-U     | Default:M-S-UP/M-S-DOWN  |
| [l]Outliene Level Up*             | C-M-h       | Default:M-LEFT           |
| [r]Outline Level Down*            | C-M-j       | Default:M-RIGHT          |
| [L]Outline Level Up(Treeã”ã¨)*    | M-H         | Default:M-S-LEFT         |
| [R]Outline Level Downn(Treeã”ã¨)* | M-J         | Default:M-S-RIGHT        |
|-----------------------------------+-------------+--------------------------|
| [i]Insert Heading                 | C-RET       | è¡Œã®é€”ä¸­ã‹ã‚‰ã§ã‚‚å®Ÿè¡Œå¯èƒ½ |
| Insert Heading(æ¬¡ã®è¡Œ)*           | C-S-RET     | ã€ƒ                       |
| New List Item*                    | M-RET       | ã€ƒ                       |
| New List Item*                    | M-S-RET     | Default:M-RET            |
|-----------------------------------+-------------+--------------------------|
| [c]Subtree Cycling                | TAB         |                          |
| [C]Global Cycling                 | S-TAB       |                          |
|-----------------------------------+-------------+--------------------------|
| Org Forward Sentence              | M-e         |                          |
| Org Backward Sentence             | M-a         |                          |
| Org Mark Element*                 | C-h         |                          |
| Org Forward Element*              | M-n         |                          |
| Org Kill Element*                 | M-m         |                          |
| Org Backward Element*             | M-p         |                          |
| Org Backward Kill Element*        | M-@         |                          |
|-----------------------------------+-------------+--------------------------|
| [t]TaskçŠ¶æ…‹å¤‰æ›´*                  | C-M-n/C-M-m | Default:S-LEFT/S-RIGHT   |
| ãƒªã‚¹ãƒˆã®ãƒãƒ¼ã‚«ãƒ¼å¤‰æ›´*             | C-M-n/C-M-m | Default:S-LEFT/S-RIGHT   |
| ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆï½¥ãƒªã‚¹ãƒˆåˆ‡ã‚Šæ›¿ãˆ         | C-c -       |                          |
|-----------------------------------+-------------+--------------------------|
| ãƒªãƒ³ã‚¯æ§‹æ–‡ã®ç¢ºèªãƒ»ä¿®æ­£            | C-c C-l     | ç”»åƒã§ä½¿ç”¨ã§ãã‚‹         |

*** Table
| New Line    | M-S-u, C-o | ä¸Šã«æŒ¿å…¥ã•ã‚Œã‚‹ |
| Delete Line | M-S-y, M-k |                |

*** ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã¨Org Babel
| ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®ç·¨é›†(å°‚ç”¨BufferãŒé–‹ã)   | C-c '   |
| ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«æŠ½å‡º(tangle) | C-c s t |

**** Tangle
åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«æŠ½å‡ºã—ãŸã„ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®Headerã«è¨˜è¿°ã™ã‚‹

- ~:tangle "filename"~: æŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«åã«å‡ºåŠ›
- ~:tangle "path/to/file"~: ç›¸å¯¾ãƒ‘ã‚¹ã¾ãŸã¯çµ¶å¯¾ãƒ‘ã‚¹ã§æŒ‡å®šå¯èƒ½

**** Noweb
ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯é–“ã®éšå±¤é–¢ä¿‚ã‚’ä½œã‚‹.è¦ªã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®Headerã«ã¯ ~:noweb yes~ ã‚’è¨˜è¿°ã—,Bodyå†…ã§å­ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®é…ç½®ã‚’æŒ‡å®šã™ã‚‹
#+begin_src emacs-lisp :noweb yes
<<child-block-1>>

<<child-block-2>
#+end_src

å­ãƒ–ãƒ­ãƒƒã‚¯ã®Headerã«ã¯ ~:noweb-ref child-block-1~ ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹.åŒåã®å­ãƒ–ãƒ­ãƒƒã‚¯ã¯ä¸Šã‹ã‚‰é †ã«è¦ªã«çµ±åˆã•ã‚ŒæŠ½å‡ºã•ã‚Œã‚‹
å†å¸°çš„ã«ä½•éšå±¤ã«ã‚‚ã§ãã‚‹ãŒ,å®Ÿç”¨ä¸Šã¯2éšå±¤,ã›ã„ãœã„3éšå±¤ãŒé™åº¦ã ã‚ã†

**** ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯å†…ã®è¡Œé ­ã® =*= ã‚„ =#+= ã¯ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ãŒå¿…è¦.è‡ªå‹•ã§å‰ã« =,= ãŒä»˜ã.ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—è¨˜å·ã¯æŠ½å‡ºæ™‚ã«è‡ªå‹•é™¤å»ã•ã‚Œã‚‹

*** Org Tempo
| Code Block    | ~<s + TAB~ |
| Quote Block   | ~<q + TAB~ |
| Example Block | ~<e + TAB~ |

*** Terms
- Tree: å…¨ä½“ã®ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³(æœ¨æ§‹é€ )
- Subtree: ç‰¹å®šã®Headlineä¸‹ã®æœ¨æ§‹é€ 
- Headline: éšå±¤çš„ãªè¦‹å‡ºã—
- element: Headlineä»¥å¤–ã®è¦ç´ 

** Org Appear
#+begin_src emacs-lisp :noweb-ref org-mode
(use-package org-appear
  :hook
  (org-mode . org-appear-mode)
  :config
  (setq org-appear-autoentities t)
  (setq org-appear-autolinks t))
#+end_src

** Org Modeã®Face
#+begin_src emacs-lisp :noweb-ref org-face
(use-package org
  :ensure nil
  :custom
  (org-fontify-todo-headline t) ; TODOã®Faceã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰éƒ¨åˆ†ã®ã¿ã§ãªãè¡Œå…¨ä½“ã«é©ç”¨
  :config
  (let ((colors (list (sheep/color 'h1)
                      (sheep/color 'h2)
                      (sheep/color 'h3)
                      (sheep/color 'h4)
                      (sheep/color 'h5)
                      (sheep/color 'fg)
                      (sheep/color 'fg)
                      (sheep/color 'fg))))
    (dotimes (i 8)
      (set-face-attribute
       (intern (format "org-level-%d" (1+ i))) nil
       :foreground (nth i colors)
       :height 1.0
       :weight 'normal)))

  (set-face-attribute 'org-link nil
                      :foreground (sheep/color 'link)
                      :weight 'normal
                      :underline t)
  (set-face-attribute 'org-verbatim nil
                      :foreground (sheep/color 'annotation))
  (set-face-attribute 'org-table nil
                      :family (sheep/font 'table)
                      :height 0.97)

  ;; Code Block Faces
  (set-face-attribute 'org-block nil
                      :background (sheep/color 'bg-alt)
                      :height 0.97)
  (set-face-attribute 'org-block-begin-line nil
                      :background (sheep/color 'bg)
                      :height 0.8
                      :underline nil)
  (set-face-attribute 'org-block-end-line nil
                      :background (sheep/color 'bg)
                      :height 0.8
                      :overline nil)
  (set-face-attribute 'org-code nil
                      :foreground (sheep/color 'fg)
                      :background (sheep/color 'bg-alt))

  ;; Tasklist Faces
  (setq org-todo-keyword-faces
        `(("TODO" . (:foreground ,(sheep/color 'emphasis) :weight normal))
          ("DONE" . (:foreground ,(sheep/color 'link) :weight normal))))
  (set-face-attribute 'org-headline-todo nil
                      :foreground (sheep/color 'annotation))
  (set-face-attribute 'org-headline-done nil
                      :foreground (sheep/color 'fg)))
#+end_src

* Markdown Mode

#+begin_src emacs-lisp :noweb-ref markdown-mode
(use-package markdown-mode
  :mode
  ("\\.md\\'" . markdown-mode)
  :defer t)
#+end_src

* Emacs Lisp Mode

#+begin_src emacs-lisp :noweb-ref emacs-lisp-mode
(add-hook 'emacs-lisp-mode-hook
          (lambda ()
            (outline-minor-mode 1)
            (setq-local outline-regexp "^;;;")))
#+end_src

| è¨­å®šã®åæ˜                      | C-x C-e                  | è©•ä¾¡ã—ãŸã„Så¼ã®å¾Œã‚ã«Pointã‚’ç½®ã         |
| ã‚«ãƒ¬ãƒ³ãƒˆãƒãƒƒãƒ•ã‚¡ã‚’å…¨ã¦è©•ä¾¡     | M-x eval-buffer          |                                          |
| Så¼ã®è©•ä¾¡                      | M-x eval-print-last-sexp | å››å‰‡æ¼”ç®—ã®ã‚ˆã†ãªå˜ç´”ãªå¼ã®è©•ä¾¡ã«ã‚‚ä½¿ãˆã‚‹ |

* ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ  Sub Sytems

** Magit
#+begin_src emacs-lisp :noweb-ref magit
(use-package magit
  :custom
  (magit-display-buffer-function #'magit-display-buffer-same-window-except-diff-v1)
  (magit-bury-buffer-function 'magit-mode-quit-window)
  (magit-log-section-commit-count 50)
  :config
  (advice-add 'magit-commit-diff :override #'ignore)
  :bind ("C-x g" . magit-status))
#+end_src

| git init                   | C-x g     | Dirvishã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦ãŠã                                |
| Magit Burrer Open          | C-x g     |                                                                    |
| git add                    | s         | ãƒ•ã‚¡ã‚¤ãƒ« or Untracked files                                        |
| Unstage                    | u         | ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã®å–ã‚Šæ¶ˆã—                                             |
| git commit                 | c c       | ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç·¨é›†ã—C-c C-cã§ã‚³ãƒŸãƒƒãƒˆç¢ºå®š. C-c C-kã§å–ã‚Šæ¶ˆã— |
| Buffer æ›´æ–°                | g         |                                                                    |
| ç®¡ç†ç”»é¢ã‚’æŠœã‘ã‚‹           | q         |                                                                    |
| ã‚³ãƒŸãƒƒãƒˆã®å®Ÿè¡Œ             | C-c C-c   |                                                                    |
| ã‚³ãƒŸãƒƒãƒˆã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«       | C-c C-k   |                                                                    |
| git push                   | P         |                                                                    |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½è·¡å¯¾è±¡ã‹ã‚‰é™¤å¤– | K(å¤§æ–‡å­—) | git rm --chashed <fileåã€‰ã¨åŒã˜                                   |

*** Mode Line
=Git:main= ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚‹

| :  | Modified          |
| -  | No changes        |
| @  | Staged            |
| ?  | Unknown/Untracked |
| ï¼ | Error             |

** Vterm
#+begin_src emacs-lisp :noweb-ref vterm
(use-package vterm
  :commands vterm
  :config
  (setq vterm-max-scrollback 10000)
  :bind
  (("C-x v"   . vterm)
   ("C-c 3 v" . vterm-other-window)
   :map vterm-mode-map
   ("C-a"   . vterm-beginning-of-line)
   ("C-e"   . vterm-end-of-line)
   ("C-M-p" . vterm-previous-prompt)
   ("C-M-n" . vterm-next-prompt)
   ("C-y"   . vterm-yank)
   ("M-y"   . vterm-yank-pop)
   ("C-t"   . other-window)
   ("C-z"   . vterm-undo)
   ("C-w"   . vterm-copy-mode)))
#+end_src

| Vtermã®èµ·å‹•*                   | C-x v   |                                                             |
| Vtermã‚’æ–°ã—ã„ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§èµ·å‹•* | C-c 3 v |                                                             |
| æ¬¡ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ*                | C-M-n   |                                                             |
| å‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ*                | C-M-p   |                                                             |
| ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰*                  | C-c w w | ãƒ†ã‚­ã‚¹ãƒˆé¸æŠè‚¢,RETã§ã‚³ãƒ”ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œ,ã‚³ãƒ”ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‹ |
| Clear                          | C-l     |                                                             |
| Log Out                        | C-d     | å…¥åŠ›æ™‚ã«ã¯æ–‡å­—å‰Šé™¤ã¨ãªã‚‹                                    |
*** Install
1.Vtermã‚’å‹•ã‹ã™ãŸã‚ã«å¿…è¦ãªCMakeã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   ~sudo apt install cmake libtool-bin libvterm-dev~
2. init.el ã« =use package vterm...= ã§è¨­å®šã‚’è¨˜è¿°ã—å†èµ·å‹•> =M-x vterm=

** Gptel
#+begin_src emacs-lisp :noweb-ref gptel
(use-package gptel
  :config
  (setq gptel-model 'gemini-2.5-flash)
  (setq gptel-system-message "ã‚ãªãŸã¯,ç§(è³ªå•è€…)ã®ã“ã¨ã‚’ã€Œç¾Šã•ã‚“ã€ã¨å‘¼ã‚“ã§ä¸‹ã•ã„.
    å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„ä¿¡é ¼æ€§ã®é«˜ã„ã‚½ãƒ¼ã‚¹ã‹ã‚‰æœ€æ–°ã®æƒ…å ±ã‚’åé›†ã—ã¦ä¸‹ã•ã„
    ç§(è³ªå•è€…)ãŒUbuntu 24.04 LTS(GNOME,Wayland)ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ä¸‹ã•ã„")
  (setq gptel-directives
        '((default . "You are a large language model living in Emacs and a helpful assistant. Respond concisely.")
          (emacs . "ã‚ãªãŸã¯GNU Emacsã‚’ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚Š,Webé–‹ç™ºã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã§ã™.
            Spacemacsã‚„Doom Emacsã¯ä½¿ç”¨ã›ãš,ãƒ—ãƒ¬ãƒ¼ãƒ³ãªEmacsã«å³é¸ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã‚’å¥½ã¿ã¾ã™.
            æœ€æ–°ã®Emacs 30.2ç’°å¢ƒã‚’ç”Ÿã‹ã—ã¦,Apheleia,gptel,Vertico,Consult,Corfuãªã©,ãƒ¢ãƒ€ãƒ³ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç©æ¥µçš„ã«å°å…¥ã—ã¦ã„ã¾ã™.ãŸã ã—ãƒ¬ã‚¬ã‚·ãƒ¼ã§ã‚ã£ã¦ã‚‚,Magitã‚„ Diredãªã©,ä»ŠãªãŠå¼·åŠ›ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ä½¿ã„ç¶šã‘ã¦ã„ã¾ã™.
            ã‚ãªãŸã¯,æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ç¾Šã•ã‚“ã‚’æ•™è‚²ã—ã¾ã™.æœ€æ–°æŠ€è¡“ã«åŠ ãˆ,ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»æ­£è¦è¡¨ç¾ãƒ»Makefileã¨ã„ã£ãŸåŸºæœ¬æŠ€è¡“ã‚‚é©å®œæ•™ãˆã¾ã™")
          (linux . "ã‚ãªãŸã¯Linuxã¨Ubuntuã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã§ã‚ã‚Š,CLIã«ã‚‚GUI(GNOME)ã«ã‚‚ç²¾é€šã—ãŸã‚·ãƒ‹ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚Š,æ–°äººWebã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚‹ç¾Šã•ã‚“ã®ãƒ¡ãƒ³ã‚¿ãƒ¼ã§ã™")))
  (setq gptel-track-media t)
  (setq gptel-include-reasoning nil)

  ;; Backends
  (gptel-make-gemini "Gemini-Pro"
    :key (lambda () (getenv "GEMINI_API_KEY_PRO"))
    :stream t
    :models '(gemini-2.5-flash
              gemini-2.5-pro
              gemini-3-pro-preview))

  (setq gptel-backend
        (gptel-make-gemini "Gemini-Free"
          :key (lambda () (getenv "GEMINI_API_KEY_FREE"))
          :stream t
          :models '(gemini-2.5-flash
                    gemini-2.5-pro)))

  ;; Custom Functions
  (defun sheep/create-gptel-buffer ()
    "Gptelç”¨ã®ä½¿ã„æ¨ã¦ãƒãƒƒãƒ•ã‚¡ã‚’ä½œæˆ"
    (interactive)
    (let* ((base-name "*Gptel*")
           (buffer-name (generate-new-buffer-name base-name))
           (buf (get-buffer-create buffer-name)))
      (with-current-buffer buf
        (erase-buffer)
        (markdown-mode)
        (gptel-mode)
        (set-buffer-modified-p nil)
        (insert "### "))
      (switch-to-buffer buf)
      (message "Temporary buffer '%s' created." buffer-name)))

  (defun sheep/gptel-send-with-separator ()
    "åŒºåˆ‡ã‚Šç·šã‚’å…¥ã‚Œã¦é€ä¿¡"
    (interactive)
    (insert "\n\n---")
    (call-interactively 'gptel-send))

  (defun sheep/erase-buffer-insert-heading ()
    "ãƒãƒƒãƒ•ã‚¡ã‚’ã‚¯ãƒªã‚¢ã—ã¦è¦‹å‡ºã—ã‚’æŒ¿å…¥"
    (interactive)
    (erase-buffer)
    (insert "### "))

  :bind
  ("C-c a a" . sheep/create-gptel-buffer)
  ("C-c 3 a" . gptel)
  ("C-c a d" . gptel-add)
  ("C-c a f" . gptel-add-file)
  ("C-c a p" . gptel-system-prompt)
  ("C-c a n" . gptel-end-of-response)
  ("C-c a k" . gptel-context-remove-all)
  ("C-c a e" . sheep/erase-buffer-insert-heading)
  ("C-c a m" . gptel-menu)
  ("C-c a g" . gptel-mode)
  ("C-c <return>"   . sheep/gptel-send-with-separator)
  ("C-c a <return>" . gptel-send))
  #+end_src

| è³ªå•ã®é€ä¿¡(åŒºåˆ‡ã‚Šç·šæœ‰)*         | C-c RET   | è‡ªä½œé–¢æ•°                 |
| è³ªå•ã®é€ä¿¡*                     | C-c a RET | gptel-send               |
| è³ªå•ç”¨Bufferã®ä½œæˆ*             | C-c a a   | è‡ªä½œé–¢æ•°                 |
| è³ªå•ç”¨Bufferã®ä½œæˆ(New Window)* | C-c 3 a   | gptel                    |
| Add Contexts(Buffer)*           | C-c a d   | gptel-add                |
| Add Contexts(File)*             | C-c a f   | gptel-add-file           |
| Promptã®é¸æŠ*                   | C-c a p   | gptel-system-proCmpt     |
| æ¬¡ã®è³ªå•*                       | C-c a n   | gptel-end-of-response    |
| Context Clear*                  | C-c a k   | gptel-context-remove-all |
| Erace Buffer > Insert Heading*  | C-c k a   | è‡ªä½œé–¢æ•°                 |
| gptel Menu*                     | C-c a m   | gptel-menu               |
| gptel Mode*                     | C-c a g   | gptel-mode               |
*** Settings
ç’°å¢ƒå¤‰æ•°ã¯ =/~.profile= ã«è¨­å®šã™ã‚‹.å¤‰æ›´ã—ãŸéš›ã¯å†èµ·å‹•ãŒå¿…è¦

* ã‚¨ãƒ©ãƒ¼å¯¾å¿œÂ·ãƒ¬ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

| æ“ä½œã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒ»ã‚³ãƒãƒ³ãƒ‰ä¸­æ–­ | C-g                      |                                          |
| å†å¸°ç·¨é›†ãƒ¬ãƒ™ãƒ«ã‹ã‚‰æŠœã‘å‡ºã™     | M-x ESC ESC ESC          | ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã®()ãŒ[]ã§å›²ã‚ã‚ŒãŸçŠ¶æ…‹     |
| ãƒ‡ãƒ¼ã‚¿å›å¾©                     | M-x recover file         | RET>filepath>RET>yes                     |

| ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã®faceã‚’èª¿ã¹ã‚‹         | M-x describe-face       |
| ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã®ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’èª¿ã¹ã‚‹ | M-x describe-key        |
| List Colors                        | M-x list-colors-display |
